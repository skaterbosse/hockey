<!doctype html>
<html lang="sv">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="default" />
<meta name="mobile-web-app-capable" content="yes" />
<title>LocalSport v17.10</title>

<style>
/* ------------- ROOT THEME ------------- */
:root {
  --topbar-h:56px;
  --hint-h:26px;
  --slot-h:42px;
  --bg:#f0f3f8;
  --hair:#e2e8f0;
  --text:#0f172a;
  --muted:#64748b;
  --accent:#16a34a;
  --link:#2563eb;
}

/* ------------- RESET / BASE ------------- */
*{box-sizing:border-box;margin:0;padding:0;}
html,body{height:100%;background:var(--bg);font-family:-apple-system,BlinkMacSystemFont,Roboto,Arial,sans-serif;color:var(--text);overscroll-behavior:none;}
.device{width:100%;height:100dvh;display:flex;flex-direction:column;overflow:hidden;}

/* ------------- TOP BAR ------------- */
.topbar{position:sticky;top:0;z-index:500;background:#fff;border-bottom:1px solid var(--hair);}
.topbar-inner{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;height:var(--topbar-h);padding:6px;}

.cluster-left,.cluster-right{display:flex;gap:8px;align-items:center;}
.icon-btn{width:32px;height:32px;border-radius:10px;border:1px solid var(--hair);background:#f1f5f9;display:grid;place-items:center;cursor:pointer;}

.cluster-center{display:flex;align-items:center;justify-content:center;gap:8px;}
.date-block{display:flex;flex-direction:column;align-items:center;font-weight:700;font-size:13.5px;line-height:1.1;}

/* ------------- SORTERING ------------- */
.sort-stack{border:1px solid var(--hair);border-radius:10px;background:#fff;padding:4px 6px;display:flex;flex-direction:column;align-items:center;}
.sort-top{font-size:12px;font-weight:600;margin-bottom:2px;}
.sort-bottom{display:flex;gap:4px;}

.pill{
  padding:4px 8px;
  font-size:11px;
  border-radius:999px;
  font-weight:600;
  border:1px solid var(--hair);
  cursor:pointer;
  user-select:none;
}
.pill.on{background:#dcfce7;border-color:#86efac;color:var(--accent);}
.pill.off{background:#f1f5f9;border-color:#cbd5e1;color:#94a3b8;}
.pill.lock{opacity:.6;cursor:not-allowed;}

/* ------------- HINT-F√ÑLT ------------- */
.hint{
  position:sticky;
  top:var(--topbar-h);
  height:var(--hint-h);
  background:#fff;
  border-bottom:1px solid var(--hair);
  text-align:center;
  font-size:12px;
  line-height:var(--hint-h);
  color:var(--muted);
  z-index:450;
}

/* ------------- STICKY ARENA SLOT (PLATS) ------------- */
.group-slot{
  position:sticky;
  top:calc(var(--topbar-h) + var(--hint-h));
  height:var(--slot-h);
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:10px 12px;
  font-size:14px;
  font-weight:700;
  background:#fff;
  border-bottom:1px dashed var(--hair);
  z-index:425;
}

/* ------------- SCROLLAREA ------------- */
.scroll{
  flex:1;
  overflow-y:auto;
  -webkit-overflow-scrolling:touch;
  background:var(--bg);
}

/* ------------- ARENA HEADER (i scroll-listan) ------------- */
.arena-header{
  padding:10px 12px;
  background:#fff;
  border-bottom:1px dashed var(--hair);
  font-weight:700;
  display:flex;
  justify-content:space-between;
}
.arena-header.active-hidden{
  visibility:hidden;
  height:0;
  padding:0;
  margin:0;
  border:none;
}

/* ------------- GAME CARDS ------------- */
.game{
  background:#fff;
  border-top:1px dashed #e5e7eb;
  padding:8px 12px;
  display:grid;
  gap:6px;
}

.game-top{display:flex;align-items:center;gap:8px;flex-wrap:nowrap;}
.game-time{font-weight:700;white-space:nowrap;}
.game-series a{text-decoration:none;font-weight:600;color:var(--link);white-space:nowrap;}
.game-mid{flex:1 1 auto;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:700;}
.game-right{white-space:nowrap;font-size:12px;color:var(--muted);}

.game-bottom{
  display:grid;
  grid-template-columns:1fr auto 1fr;
  align-items:center;
}

.team{display:inline-flex;align-items:center;gap:6px;font-weight:600;}
.team-logo{width:26px;height:26px;border-radius:50%;border:1px solid var(--hair);object-fit:cover;background:#eee;}
.team-name{max-width:min(38vw,165px);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:13px;}

.result a{
  display:inline-block;
  padding:2px 10px;
  border-radius:8px;
  border:1px solid var(--hair);
  background:#f1f5f9;
  text-decoration:none;
  font-weight:700;
  color:var(--text);
}

.divider{height:7px;background:var(--bg);border-top:1px dashed var(--hair);}
</style>
</head>

<body>
<div class="device">

<header class="topbar">
  <div class="topbar-inner">
    <div class="cluster-left">
      <button class="icon-btn">üè†</button>
      <button class="icon-btn">üó∫Ô∏è</button>
    </div>

    <div class="cluster-center">
      <button class="icon-btn">‚óÄ</button>
      <div class="date-block"><span>Idag</span><span>Tors</span><span>23 okt</span></div>
      <button class="icon-btn">‚ñ∂</button>
    </div>

    <div class="cluster-right">
      <div class="sort-stack">
        <div class="sort-top">Sortering</div>
        <div class="sort-bottom">
          <span id="pillPlace" class="pill on">Plats</span>
          <span id="pillSeries" class="pill off">Serie</span>
          <span id="pillTime" class="pill on lock">Tid</span>
        </div>
      </div>
      <button class="icon-btn">‚öôÔ∏è</button>
    </div>
  </div>
</header>

<div class="hint">Visar matcher n√§ra: Kruniusv√§gen 1, Billdal</div>

<div id="groupSlot" class="group-slot">
  <div class="group-title">Kungsbacka Ishall A</div>
  <div class="group-sub">Avst 8 km</div>
</div>

<!-- SCROLL-LIST -->
<main id="scrollArea" class="scroll">

<!-- ‚ñº‚ñº‚ñº ARENA 1 ‚Äî Kungsbacka Ishall A ‚ñº‚ñº‚ñº -->
<div class="arena-header" data-arena-header="Kungsbacka Ishall A">
  <div>Kungsbacka Ishall A</div><div>Avst 8 km</div>
</div>

<!-- MATCH 1 -->
<article class="game" data-arena="Kungsbacka Ishall A">
  <div class="game-top">
    <div class="game-time">09:00</div>
    <div class="game-series"><a href="#">HockeyTv√•an S√∂dra</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><img class="team-logo" src="logos/Hanhals_IF__b65395a8-4623-46e4-96ab-97ff2e0e7b72.png"><span class="team-name">Hanhals IF</span></div>
    <div class="result"><a href="#">‚Äì</a></div>
    <div class="team"><img class="team-logo" src="logos/B√§cken_HC__119055af-fc61-4108-82a8-a0cd0e883df0.png"><span class="team-name">B√§cken HC</span></div>
  </div>
</article>

<!-- MATCH 2 -->
<article class="game" data-arena="Kungsbacka Ishall A">
  <div class="game-top">
    <div class="game-time">09:40</div>
    <div class="game-series"><a href="#">J18 Region S√∂dra</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><img class="team-logo" src="logos/Kung√§lvs_IK__620a9df2-1b0b-4bc5-b9eb-7e88670f4c7b.png"><span class="team-name">Kung√§lvs IK</span></div>
    <div class="result"><a href="#">3 - 2</a></div>
    <div class="team"><img class="team-logo" src="logos/Gr√§storps_IK__c6811c5f-e2c9-43e2-a9c2-73ab53f63fd1.png"><span class="team-name">Gr√§storps IK</span></div>
  </div>
</article>

<!-- MATCH 3 -->
<article class="game" data-arena="Kungsbacka Ishall A">
  <div class="game-top">
    <div class="game-time">10:20</div>
    <div class="game-series"><a href="#">J20 Region Syd</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><img class="team-logo" src="logos/B√§cken_HC__119055af-fc61-4108-82a8-a0cd0e883df0.png"><span class="team-name">B√§cken HC U20</span></div>
    <div class="result"><a href="#">‚Äì</a></div>
    <div class="team"><img class="team-logo" src="logos/Hanhals_IF__b65395a8-4623-46e4-96ab-97ff2e0e7b72.png"><span class="team-name">IF M√∂lndal Hockey</span></div>
  </div>
</article>

<!-- MATCH 4 -->
<article class="game" data-arena="Kungsbacka Ishall A">
  <div class="game-top">
    <div class="game-time">11:00</div>
    <div class="game-series"><a href="#">Tr√§ningsmatch</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><img class="team-logo" src="logos/Gr√§storps_IK__c6811c5f-e2c9-43e2-a9c2-73ab53f63fd1.png"><span class="team-name">Gr√§storps IK J18</span></div>
    <div class="result"><a href="#">2 - 4</a></div>
    <div class="team"><img class="team-logo" src="logos/Kung√§lvs_IK__620a9df2-1b0b-4bc5-b9eb-7e88670f4c7b.png"><span class="team-name">Kung√§lvs IK J18</span></div>
  </div>
</article>

<!-- MATCH 5 -->
<article class="game" data-arena="Kungsbacka Ishall A">
  <div class="game-top">
    <div class="game-time">11:40</div>
    <div class="game-series"><a href="#">HockeyTv√•an V√§stra</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><img class="team-logo" src="logos/Hanhals_IF__b65395a8-4623-46e4-96ab-97ff2e0e7b72.png"><span class="team-name">Hisingen Hockey</span></div>
    <div class="result"><a href="#">‚Äì</a></div>
    <div class="team"><img class="team-logo" src="logos/B√§cken_HC__119055af-fc61-4108-82a8-a0cd0e883df0.png"><span class="team-name">Partille HK</span></div>
  </div>
</article>

<!-- END OF ARENA 1 -->
<div class="divider"></div>
<!-- ‚ñº‚ñº‚ñº ARENA 2 ‚Äî √Öse & Viste Arena ‚ñº‚ñº‚ñº -->
<div class="arena-header" data-arena-header="√Öse & Viste Arena">
  <div>√Öse & Viste Arena</div><div>Avst 104 km</div>
</div>

<!-- MATCH 6 -->
<article class="game" data-arena="√Öse & Viste Arena">
  <div class="game-top">
    <div class="game-time">09:20</div>
    <div class="game-series"><a href="#">HockeyTv√•an S√∂dra</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><img class="team-logo" src="logos/Gr√§storps_IK__c6811c5f-e2c9-43e2-a9c2-73ab53f63fd1.png"><span class="team-name">Gr√§storps IK</span></div>
    <div class="result"><a href="#">‚Äì</a></div>
    <div class="team"><img class="team-logo" src="logos/Kung√§lvs_IK__620a9df2-1b0b-4bc5-b9eb-7e88670f4c7b.png"><span class="team-name">Kung√§lvs IK</span></div>
  </div>
</article>

<!-- MATCH 7 -->
<article class="game" data-arena="√Öse & Viste Arena">
  <div class="game-top">
    <div class="game-time">10:00</div>
    <div class="game-series"><a href="#">J20 Region Syd</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><img class="team-logo" src="logos/Hanhals_IF__b65395a8-4623-46e4-96ab-97ff2e0e7b72.png"><span class="team-name">Hanhals IF</span></div>
    <div class="result"><a href="#">2 - 2</a></div>
    <div class="team"><img class="team-logo" src="logos/B√§cken_HC__119055af-fc61-4108-82a8-a0cd0e883df0.png"><span class="team-name">B√§cken HC</span></div>
  </div>
</article>

<!-- MATCH 8 -->
<article class="game" data-arena="√Öse & Viste Arena">
  <div class="game-top">
    <div class="game-time">10:40</div>
    <div class="game-series"><a href="#">J18 Region S√∂dra</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><img class="team-logo" src="logos/Kung√§lvs_IK__620a9df2-1b0b-4bc5-b9eb-7e88670f4c7b.png"><span class="team-name">Kung√§lvs IK J18</span></div>
    <div class="result"><a href="#">‚Äì</a></div>
    <div class="team"><img class="team-logo" src="logos/Gr√§storps_IK__c6811c5f-e2c9-43e2-a9c2-73ab53f63fd1.png"><span class="team-name">Gr√§storps IK J18</span></div>
  </div>
</article>

<!-- MATCH 9 -->
<article class="game" data-arena="√Öse & Viste Arena">
  <div class="game-top">
    <div class="game-time">11:20</div>
    <div class="game-series"><a href="#">HockeyTv√•an V√§stra</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><img class="team-logo" src="logos/B√§cken_HC__119055af-fc61-4108-82a8-a0cd0e883df0.png"><span class="team-name">B√§cken HC</span></div>
    <div class="result"><a href="#">‚Äì</a></div>
    <div class="team"><img class="team-logo" src="logos/Gr√§storps_IK__c6811c5f-e2c9-43e2-a9c2-73ab53f63fd1.png"><span class="team-name">Nybro Vikings IF</span></div>
  </div>
</article>

<!-- MATCH 10 -->
<article class="game" data-arena="√Öse & Viste Arena">
  <div class="game-top">
    <div class="game-time">12:00</div>
    <div class="game-series"><a href="#">Tr√§ningsmatch</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><img class="team-logo" src="logos/Gr√§storps_IK__c6811c5f-e2c9-43e2-a9c2-73ab53f63fd1.png"><span class="team-name">Gr√§storps IK</span></div>
    <div class="result"><a href="#">4 - 1</a></div>
    <div class="team"><img class="team-logo" src="logos/Hanhals_IF__b65395a8-4623-46e4-96ab-97ff2e0e7b72.png"><span class="team-name">Hisingen Hockey</span></div>
  </div>
</article>

<!-- MATCH 11 -->
<article class="game" data-arena="√Öse & Viste Arena">
  <div class="game-top">
    <div class="game-time">12:40</div>
    <div class="game-series"><a href="#">J20 Region Syd</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><img class="team-logo" src="logos/Hanhals_IF__b65395a8-4623-46e4-96ab-97ff2e0e7b72.png"><span class="team-name">Hanhals IF U20</span></div>
    <div class="result"><a href="#">‚Äì</a></div>
    <div class="team"><img class="team-logo" src="logos/Hanhals_IF__b65395a8-4623-46e4-96ab-97ff2e0e7b72.png"><span class="team-name">IF M√∂lndal Hockey</span></div>
  </div>
</article>

<!-- MATCH 12 -->
<article class="game" data-arena="√Öse & Viste Arena">
  <div class="game-top">
    <div class="game-time">13:20</div>
    <div class="game-series"><a href="#">HockeyTv√•an S√∂dra</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><img class="team-logo" src="logos/Kung√§lvs_IK__620a9df2-1b0b-4bc5-b9eb-7e88670f4c7b.png"><span class="team-name">Kung√§lvs IK</span></div>
    <div class="result"><a href="#">‚Äì</a></div>
    <div class="team"><span class="team-name">Troja-Ljungby</span></div>
  </div>
</article>

<!-- MATCH 13 -->
<article class="game" data-arena="√Öse & Viste Arena">
  <div class="game-top">
    <div class="game-time">14:00</div>
    <div class="game-series"><a href="#">J18 Region S√∂dra</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><img class="team-logo" src="logos/B√§cken_HC__119055af-fc61-4108-82a8-a0cd0e883df0.png"><span class="team-name">B√§cken HC J18</span></div>
    <div class="result"><a href="#">3 - 0</a></div>
    <div class="team"><span class="team-name">Kalmar HC</span></div>
  </div>
</article>

<!-- MATCH 14 -->
<article class="game" data-arena="√Öse & Viste Arena">
  <div class="game-top">
    <div class="game-time">14:40</div>
    <div class="game-series"><a href="#">HockeyTv√•an V√§stra</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><img class="team-logo" src="logos/Gr√§storps_IK__c6811c5f-e2c9-43e2-a9c2-73ab53f63fd1.png"><span class="team-name">Gr√§storps IK</span></div>
    <div class="result"><a href="#">‚Äì</a></div>
    <div class="team"><span class="team-name">Partille HK</span></div>
  </div>
</article>

<!-- MATCH 15 -->
<article class="game" data-arena="√Öse & Viste Arena">
  <div class="game-top">
    <div class="game-time">15:20</div>
    <div class="game-series"><a href="#">Tr√§ningsmatch</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><span class="team-name">IF M√∂lndal Hockey</span></div>
    <div class="result"><a href="#">‚Äì</a></div>
    <div class="team"><span class="team-name">K√•llereds SK</span></div>
  </div>
</article>

<!-- MATCH 16 -->
<article class="game" data-arena="√Öse & Viste Arena">
  <div class="game-top">
    <div class="game-time">16:00</div>
    <div class="game-series"><a href="#">J18 Region S√∂dra</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><span class="team-name">Gr√§storps IK J18</span></div>
    <div class="result"><a href="#">‚Äì</a></div>
    <div class="team"><span class="team-name">Kung√§lvs IK J18</span></div>
  </div>
</article>

<!-- MATCH 17 -->
<article class="game" data-arena="√Öse & Viste Arena">
  <div class="game-top">
    <div class="game-time">16:40</div>
    <div class="game-series"><a href="#">J20 Region Syd</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><span class="team-name">B√§cken HC U20</span></div>
    <div class="result"><a href="#">‚Äì</a></div>
    <div class="team"><span class="team-name">Hanhals IF U20</span></div>
  </div>
</article>

<!-- MATCH 18 -->
<article class="game" data-arena="√Öse & Viste Arena">
  <div class="game-top">
    <div class="game-time">17:20</div>
    <div class="game-series"><a href="#">HockeyTv√•an S√∂dra</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><span class="team-name">Kung√§lvs IK</span></div>
    <div class="result"><a href="#">‚Äì</a></div>
    <div class="team"><span class="team-name">Gr√§storps IK</span></div>
  </div>
</article>

<!-- MATCH 19 -->
<article class="game" data-arena="√Öse & Viste Arena">
  <div class="game-top">
    <div class="game-time">18:00</div>
    <div class="game-series"><a href="#">Tr√§ningsmatch</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><span class="team-name">B√§cken HC</span></div>
    <div class="result"><a href="#">‚Äì</a></div>
    <div class="team"><span class="team-name">Hisingen Hockey</span></div>
  </div>
</article>

<!-- MATCH 20 -->
<article class="game" data-arena="√Öse & Viste Arena">
  <div class="game-top">
    <div class="game-time">18:40</div>
    <div class="game-series"><a href="#">HockeyTv√•an V√§stra</a></div>
  </div>
  <div class="game-bottom">
    <div class="team"><span class="team-name">Gr√§storps IK</span></div>
    <div class="result"><a href="#">‚Äì</a></div>
    <div class="team"><span class="team-name">Kung√§lvs IK</span></div>
  </div>
</article>

</main>


<!-- ====================================================================== -->
<!--  JAVASCRIPT v17.10  (iPhone 26px delay p√• upp√•tscroll)                 -->
<!-- ====================================================================== -->

<script>
const LOGOS = {
  hanhals:"logos/Hanhals_IF__b65395a8-4623-46e4-96ab-97ff2e0e7b72.png",
  backen:"logos/B√§cken_HC__119055af-fc61-4108-82a8-a0cd0e883df0.png",
  grastorp:"logos/Gr√§storps_IK__c6811c5f-e2c9-43e2-a9c2-73ab53f63fd1.png",
  kungalv:"logos/Kung√§lvs_IK__620a9df2-1b0b-4bc5-b9eb-7e88670f4c7b.png"
};

const pillPlace=document.getElementById("pillPlace");
const pillSeries=document.getElementById("pillSeries");
const pillTime=document.getElementById("pillTime");
const scroll=document.getElementById("scrollArea");
const slot=document.getElementById("groupSlot");

const MODE={PLACE:"place",SERIES:"series",SERIES_TIME:"series_time"};
let mode=MODE.PLACE;

const ARENAS={ "Kungsbacka Ishall A":8,"√Öse & Viste Arena":104 };
function km(a){return ARENAS[a];}

function parseTime(t){const [H,M]=t.split(":");return H*60 + +M;}

let currentArena = "Kungsbacka Ishall A";
let arenaOrder   = ["Kungsbacka Ishall A","√Öse & Viste Arena"];

/* ---------------- SORT-PILLS UI ---------------- */
function applyPills(){
  pillPlace.className=(mode===MODE.PLACE)?"pill on":"pill off";
  pillSeries.className=(mode===MODE.SERIES||mode===MODE.SERIES_TIME)?"pill on":"pill off";
  pillTime.className=(mode===MODE.PLACE)?"pill on lock":(mode===MODE.SERIES_TIME?"pill on":"pill off");
}

pillPlace.onclick = ()=>{mode=MODE.PLACE;applyPills();render();};
pillSeries.onclick= ()=>{mode=MODE.SERIES;applyPills();render();};
pillTime.onclick  = ()=>{if(mode!==MODE.PLACE){mode=(mode===MODE.SERIES)?MODE.SERIES_TIME:MODE.SERIES;applyPills();render();}};


/* ===========================================================
   SCROLL-STICKY LOGIK ‚Äî v17.10 (iPhone delay p√• upp√•tscroll)
=========================================================== */
let lastScrollTop = 0;

function updateStickyArena(){
  if(mode!==MODE.PLACE) return;

  const st = scroll.scrollTop;
  const dir = (st > lastScrollTop) ? "down" : "up";
  lastScrollTop = st;

  const stickyBottom = slot.getBoundingClientRect().bottom;
  const idx = arenaOrder.indexOf(currentArena);
  if(idx < 0) return;

  /* DOWN: switch when next header is ‚â• 50% covered */
  if(dir==="down" && idx < arenaOrder.length-1){
    const nextArena = arenaOrder[idx+1];
    const hdr = scroll.querySelector(`.arena-header[data-arena-header="${nextArena}"]`);
    const r = hdr.getBoundingClientRect();
    if(r.top < stickyBottom && stickyBottom - r.top >= r.height * 0.5){
      currentArena = nextArena;
      slot.querySelector(".group-title").textContent = nextArena;
      slot.querySelector(".group-sub").textContent   = `Avst ${km(nextArena)} km`;
    }
  }

  /* UP: v17.10 ‚Äî iPhone fix (delay switching back to previous arena) */
  if (dir === "up" && idx > 0){
    const currArena = arenaOrder[idx];
    const prevArena = arenaOrder[idx-1];
    const currHdr   = scroll.querySelector(`.arena-header[data-arena-header="${currArena}"]`);
    const r = currHdr.getBoundingClientRect();

    // F√∂rdr√∂jning p√• iPhone (fix f√∂r WebKit boundingRect-bug)
    const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);
    const extra = isIOS ? 26 : 0;

    // byte f√∂rst n√§r headern syns och dessutom har passerat "extra" px marginal
    if (r.top >= stickyBottom + extra){
        currentArena = prevArena;
        slot.querySelector(".group-title").textContent = prevArena;
        slot.querySelector(".group-sub").textContent   = `Avst ${km(prevArena)} km`;
    }
  }

  /* remove only active arena header from scroll */
  arenaOrder.forEach(a=>{
    const hdr = scroll.querySelector(`.arena-header[data-arena-header="${a}"]`);
    hdr.classList.toggle("active-hidden",(a===currentArena));
  });
}

scroll.addEventListener("scroll",updateStickyArena);

/* Force initial pills/arena correct */
applyPills();
updateStickyArena();

/* --------- Minimal render() to keep behavior identical to v17.8 --------- */
function render(){
  // I den h√§r statiska demon renderar vi inte om listan ‚Äì endast sticky/headers uppdateras.
  // Om du vill √•teraktivera Serie/Serie+Tid-vyerna: ers√§tt denna stub med
  // tidigare full render-funktion och game-sortering (fr√•n v17.8/v17.9).
}
</script>

</body>
</html>

